const semver = require('semver');
const version = process.version.split('.')[0].substring(1);
const platform = process.platform;
let distringuish;

try {
  distringuish = require('./build/Release/distringuish.node');
} catch {
  distringuish = require(`${__dirname}/${platform}-${version}/distringuish.node`);
}

module.exports.externalize = (str) => {
  if(typeof str === 'string')
    return distringuish.externalize(str, str.length);
  else
    return null;
};

module.exports.getProperties = (str) => {
  if(typeof str === 'string')
    return distringuish.getProperties(str);
  else
    return null;
};

module.exports.isExternal = (str) => {
  if(typeof str === 'string')
    return distringuish.isExternal(str);
  else
    return false;
};

module.exports.internalize = (str) => {
  if(typeof str === 'string')
    return distringuish.internalize(str);
  else
    return null;
};
